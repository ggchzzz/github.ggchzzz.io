I"œ:<h2 id="ida-algorithm">IDA* Algorithm</h2>

<h3 id="description">Description</h3>

<p>Iterative deepening A* (IDA*) was ï¬rst described by Richard Korf in 1985, which is a graph traversal and path search algorithm that can ï¬nd the shortest path between a designated start node and any member of a set of goal nodes in a weighted graph.</p>

<p>It is a variant of <strong>iterative deepening depth-ï¬rst search</strong> that borrows the idea to use a heuristic function to evaluate the remaining cost to get to the goal from the <strong>A* search algorithm</strong>.</p>

<p>Since it is a depth-ï¬rst search algorithm, its memory usage is lower than in A*, but unlike ordinary iterative deepening search, it concentrates on exploring the most promising nodes and thus does not go to the same depth everywhere in the search tree.</p>

<p><strong>Iterative-deepening-A* works as follows:</strong> at each iteration, perform a depth-ï¬rst search, cutting oï¬€ a branch when its total cost f(n) = g(n)+h(n) exceeds a given threshold. This threshold starts at the estimate of the cost at the initial state, and increases for each iteration of the algorithm. At each iteration, the threshold used for the next iteration is the minimum cost of all values that exceeded the current threshold.</p>

<h2 id="tasks">Tasks</h2>

<ul>
  <li>Please solve 15-Puzzle problem by using IDA* (Python or C++). You can use one of the two commonly used heuristic functions: h1 = the number of misplaced tiles. h2 = the sum of the distances of the tiles from their goal positions.</li>
  <li>Here are 4 test cases for you to verify your algorithm correctness. You can also play this game (15puzzle.zip) for more information.</li>
</ul>

<h2 id="codes">Codes</h2>

<p>ä»£ç åšäº†å¦‚ä¸‹å‰ªæï¼š</p>

<ul>
  <li>ä½¿ç”¨æ‰€æœ‰å…ƒç´ åˆ°ç›®æ ‡ä½ç½®çš„æ›¼å“ˆé¡¿è·ç¦»ä¹‹å’Œä½œä¸ºé¢„ä¼°å‡½æ•°</li>
  <li>é€šè¿‡é€†åºå¯¹åˆ¤æ–­æ˜¯å¦æœ‰è§£</li>
  <li>é’ˆå¯¹è·¯å¾„åˆ¤é‡æˆ–åˆ¤ç¯å®æµ‹ä»£ä»·æ¯”è¾ƒå¤§ï¼Œè¿™é‡Œä»…åˆ¤æ–­äº†å›è·¯</li>
</ul>

<blockquote>
  <ul>
    <li>åœ¨ç®—Næ•°ç çš„é€†åºæ•°æ—¶ï¼Œä¸æŠŠ0ç®—å…¥åœ¨å†…ï¼›</li>
    <li>å½“Nä¸ºå¥‡æ•°æ—¶ï¼Œå½“ä¸¤ä¸ªNæ•°ç çš„é€†åºæ•°å¥‡å¶æ€§ç›¸åŒæ—¶ï¼Œå¯ä»¥äº’è¾¾ï¼Œå¦åˆ™ä¸è¡Œï¼›</li>
    <li>å½“Nä¸ºå¶æ•°æ—¶ï¼Œå½“ä¸¤ä¸ªNæ•°ç çš„å¥‡å¶æ€§ç›¸åŒçš„è¯ï¼Œé‚£ä¹ˆä¸¤ä¸ªNæ•°ç ä¸­çš„0æ‰€åœ¨è¡Œçš„å·®å€¼kï¼Œkä¹Ÿå¿…é¡»æ˜¯å¶æ•°æ—¶ï¼Œæ‰èƒ½äº’è¾¾ï¼›</li>
    <li>å½“ä¸¤ä¸ªNæ•°ç çš„å¥‡å¶æ€§ä¸åŒæ—¶ï¼Œé‚£ä¹ˆä¸¤ä¸ªNæ•°ç ä¸­çš„0æ‰€åœ¨è¡Œçš„å·®å€¼kï¼Œkä¹Ÿå¿…é¡»æ˜¯å¥‡æ•°æ—¶ï¼Œæ‰èƒ½äº’è¾¾ï¼›</li>
  </ul>
</blockquote>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
#define DIST(x, y) (abs((a[x][y] - 1) / 4 - (x)) + abs((a[x][y] - 1) % 4 - (y)))
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">t</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">4</span><span class="p">],</span> <span class="n">ans</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
<span class="kt">int</span> <span class="nf">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">cur</span><span class="p">,</span> <span class="kt">int</span> <span class="n">h</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dep</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">cur</span> <span class="o">+</span> <span class="n">h</span> <span class="o">&gt;</span> <span class="n">dep</span><span class="p">)</span>
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">h</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cur</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
			<span class="n">printf</span><span class="p">(</span><span class="s">"%c"</span><span class="p">,</span> <span class="s">"RLDU"</span><span class="p">[</span><span class="n">ans</span><span class="p">[</span><span class="n">i</span><span class="p">]]);</span>
		<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dx</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">},</span> <span class="n">dy</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">min</span><span class="p">(</span><span class="n">tx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">ty</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="n">max</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">)</span>
			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">cur</span> <span class="o">||</span> <span class="n">i</span> <span class="o">!=</span> <span class="p">(</span><span class="n">ans</span><span class="p">[</span><span class="n">cur</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">^</span> <span class="mi">1</span><span class="p">))</span>
			<span class="p">{</span>
				<span class="n">ans</span><span class="p">[</span><span class="n">cur</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
				<span class="kt">int</span> <span class="n">t</span> <span class="o">=</span> <span class="n">DIST</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">);</span>
				<span class="n">swap</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="n">tx</span><span class="p">][</span><span class="n">ty</span><span class="p">]);</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">dfs</span><span class="p">(</span><span class="n">cur</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">h</span> <span class="o">-</span> <span class="n">t</span> <span class="o">+</span> <span class="n">DIST</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">,</span> <span class="n">dep</span><span class="p">))</span>
					<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
				<span class="n">swap</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="n">tx</span><span class="p">][</span><span class="n">ty</span><span class="p">]);</span>
			<span class="p">}</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">t</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">);</span> <span class="n">t</span><span class="o">--</span><span class="p">;</span> <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">inv</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sx</span><span class="p">,</span> <span class="n">sy</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="o">++</span><span class="n">x</span><span class="p">)</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="o">++</span><span class="n">y</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]);</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">])</span>
				<span class="p">{</span>
					<span class="n">h</span> <span class="o">+=</span> <span class="n">DIST</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
					<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span> <span class="o">|</span> <span class="n">y</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">i</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
						<span class="n">inv</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">j</span> <span class="o">/</span> <span class="mi">4</span><span class="p">][</span><span class="n">j</span> <span class="o">%</span> <span class="mi">4</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">];</span>
				<span class="p">}</span>
				<span class="k">else</span>
					<span class="n">sx</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">sy</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="k">if</span> <span class="p">((</span><span class="n">inv</span> <span class="o">+</span> <span class="n">sx</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">dep</span> <span class="o">=</span> <span class="n">h</span><span class="p">;</span> <span class="o">!</span><span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">sx</span><span class="p">,</span> <span class="n">sy</span><span class="p">,</span> <span class="n">dep</span><span class="p">);)</span>
				<span class="o">++</span><span class="n">dep</span><span class="p">;</span>
		<span class="k">else</span>
			<span class="n">printf</span><span class="p">(</span><span class="s">"This puzzle is not solvable."</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="results">Results</h2>

<h3 id="æœ¬åœ°æµ‹è¯•">æœ¬åœ°æµ‹è¯•</h3>

<h4 id="input">input</h4>

<p>ä½¿ç”¨äº†TAæ¼”ç¤ºä¸­çš„æ•°æ®ã€‚</p>

<pre><code class="language-txt">4
11 3 1 7
4 6 8 2
15 9 10 13
14 12 5 0
14 10 6 0
4 9 1 8
2 3 5 11
12 13 7 15
0 5 15 14
7 9 6 13
1 2 12 10
8 11 4 3
6 10 3 15
14 8 7 11
5 1 0 2
13 12 9 4
</code></pre>

<h4 id="output">output</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LLURRDLURULLURDLLURDDRRULLDLURRDLLDRRULLDRUURULDRRULDRDD
LLDLURDRULDDLUURDDRRUULLDDDLURDRULDLUURRRDLLURDDR
DRDLURULDRDDLUURRDRDLLURURDDLUUURDDDLUUULLDDRDRUUURDDDLULLDRRR
DLLURRURDDLLURURULDRDLULLDDRRULUULDDDRUUURRDLDRD
</code></pre></div></div>

<h3 id="åœ¨çº¿æµ‹è¯•"><a href="https://vjudge.net/problem/UVA-10181">åœ¨çº¿æµ‹è¯•</a></h3>

<p><a href="https://vjudge.net/solution/21644000">WuKâ€™s solution for [UVA-10181]</a>ï¼Œè¿è¡Œæ—¶é—´150msã€‚</p>
:ET